"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = require("express");
const limiter_1 = require("../config/limiter");
const createUser_1 = __importDefault(require("../controller/user/createUser"));
const imageUpload_1 = require("../handler/fileUpload/imageUpload");
const loginUser_1 = __importDefault(require("../controller/user/loginUser"));
const verifyJwt_1 = __importDefault(require("../handler/validation/verifyJwt"));
const logoutUser_1 = __importDefault(require("../controller/user/logoutUser"));
const verifyOtp_1 = __importDefault(require("../controller/user/verifyOtp"));
const resendOtp_1 = __importDefault(require("../controller/user/resendOtp"));
const forgotPassword_1 = __importDefault(require("../controller/user/forgotPassword"));
const me_1 = __importDefault(require("../controller/user/me"));
const updateLastDonation_1 = __importDefault(require("../controller/user/updateLastDonation"));
const searchBlood_1 = __importDefault(require("../controller/blood/searchBlood"));
const searchDonar_1 = __importDefault(require("../controller/user/searchDonar"));
const userRouter = (0, express_1.Router)();
const profileImageUpload = (0, imageUpload_1.createImageUpload)('profileImage');
userRouter.post('/register', profileImageUpload, createUser_1.default);
userRouter.post('/login', limiter_1.loginLimiter, loginUser_1.default);
userRouter.get("/logout", verifyJwt_1.default, logoutUser_1.default);
userRouter.post("/verify-otp", limiter_1.loginLimiter, verifyOtp_1.default);
userRouter.post('/resend-otp', limiter_1.loginLimiter, resendOtp_1.default);
userRouter.post('/forgot-password', forgotPassword_1.default);
userRouter.get('/me', verifyJwt_1.default, me_1.default);
userRouter.post('/update-last-donation', verifyJwt_1.default, updateLastDonation_1.default);
userRouter.post("/donor/search", searchBlood_1.default);
userRouter.get("/search-users", searchDonar_1.default);
exports.default = userRouter;
